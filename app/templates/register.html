<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<body>
<div class="container w-25 p-3">
    <h1>Registration</h1>
    {% if err_msg %}
        <div class="alert alert-danger" role="alert">
          {{ err_msg }}
        </div>
    {% endif %}
    <form method="post">
    <div class="form-floating">
      <input type="email" class="form-control" id="floatingInput" name="email" placeholder="name@example.com">
      <label for="floatingInput">Email address</label>
    </div>
    <div class="form-floating  mt-2">
      <input type="password" class="form-control" id="floatingPassword" name="password" placeholder="Password">
      <label for="floatingPassword">Password</label>
    </div>
    <div id="otp" align="center" class="img-fluid d-block mt-2"></div>
    <input type="hidden" id="otp_secret" name="otp_secret">
    <div class="form-floating  mt-2">
      <input type="text" class="form-control  mt-2" id="otp_verif_code" name="otp_verif_code">
      <label for="otp_verif_code">Verification code</label>
    </div>
    <div  align="center" class="cf-turnstile mt-2" data-sitekey="0x4AAAAAAALIWo9DeXlxGoln"></div>
    <button class="btn btn-primary w-100 py-2 mt-3" type="submit">Register</button>
  </form>
</div>
<script src="https://challenges.cloudflare.com/turnstile/v0/api.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
<script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script>
<script>
    let qrCodeDataUrl = '{{ otp_secret }}';
    new QRCode(document.getElementById("otp"), qrCodeDataUrl);
    document.getElementById("otp_secret").value = qrCodeDataUrl;
</script>
</body>
</html>